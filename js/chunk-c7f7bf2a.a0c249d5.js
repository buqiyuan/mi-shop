(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7f7bf2a"],{"14ac":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",flat:""}},[s("v-btn",{attrs:{icon:"",light:""}},[s("v-icon",{attrs:{color:"grey darken-2"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("arrow_back")])],1),s("v-toolbar-title",{staticClass:"grey--text text--darken-4"},[t._t("title")],2),s("v-spacer"),s("v-btn",{attrs:{icon:"",light:""}},[s("v-icon",{attrs:{color:"grey darken-2"}},[t._v("search")])],1)],1)],1)],1)],1)],1)},a=[],c={name:"SearchBar"},o=c,n=(s("266b"),s("2877")),r=Object(n["a"])(o,i,a,!1,null,"1f72357e",null);e["a"]=r.exports},"204a":function(t,e,s){},"266b":function(t,e,s){"use strict";var i=s("eecb"),a=s.n(i);a.a},"8aa0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-cart"},[s("search-bar",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("购物车")]},proxy:!0}])}),s("div",{staticClass:"shop-cart-container"},[t.isLogin?s("router-link",{staticClass:"to-login",attrs:{to:"/login"}},[s("p",[t._v("登录后享受更多优惠")]),s("p",[t._v("去登陆 >")])]):t._e(),t.cartCount<1?s("router-link",{staticClass:"to-shpping",attrs:{to:"/home",tag:"div"}},[s("span",[t._v("购物车还是空的")]),s("span",[t._v("去逛逛")])]):t._e(),s("div",[s("div",{staticClass:"shopcart-list"},t._l(t.cartList,function(e,i){return s("div",{key:i,staticClass:"goods-item"},[s("v-checkbox",{staticClass:"checkbox",attrs:{color:"#ff6700",value:e.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),s("div",{staticClass:"goods-img",on:{click:function(s){return t.toDetail(e,"cartlist")}}},[s("img",{attrs:{src:e.imgurl,alt:""}})]),s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-name",on:{click:function(s){return t.toDetail(e,"cartlist")}}},[t._v(t._s(e.name))]),s("div",{staticClass:"goods-price"},[t._v("售价："+t._s(e.price))]),s("div",{staticClass:"goods-quantity"},[s("div",[s("button",{on:{click:function(s){return t.subtract(e.id)}}},[t._v("-")]),s("input",{attrs:{type:"number",readonly:""},domProps:{value:t.$store.getters.getCartItemTotal(e.id)}}),s("button",{on:{click:function(s){return t.add(e.id)}}},[t._v("+")])]),s("v-icon",{staticClass:"delete-item",on:{click:function(s){return t.deleteGoods(e.id,i)}}},[t._v("delete_outline")])],1)])],1)}),0)]),s("div",{staticClass:"recommend-box"},[s("div",{staticClass:"recommend-top-img"},[t.recommendTopImg?s("img",{style:{width:t.recommendTopImg.w/100+"rem",height:t.recommendTopImg.h/100+"rem"},attrs:{src:t.recommendTopImg.items[0].img_url}}):t._e()]),s("div",{staticClass:"recommend-list"},t._l(t.recommendList,function(e,i){return s("div",{key:i,staticClass:"goods-item",on:{click:function(s){return t.toDetail(e,"recommend")}}},[s("a",{staticClass:"exposure"},[s("div",{staticClass:"goods-img-box"},[s("img",{staticClass:"lazy",attrs:{src:e.image_url}})]),s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-name no-wrap"},[t._v(t._s(e.name))]),s("div",{staticClass:"goods-price price"},[t._v(t._s(e.price))])])])])}),0)])],1),s("div",{staticClass:"bottom-submit"},[s("div",{staticClass:"flex-box"},[s("div",[s("v-checkbox",{staticClass:"checkbox",attrs:{color:"#ff6700",label:"全选","hide-details":""},model:{value:t.selectedAll,callback:function(e){t.selectedAll=e},expression:"selectedAll"}})],1),s("div",{staticClass:"shop-total"},[s("span",[t._v("合计：")]),s("i",[t._v("￥"+t._s(t.totalPrice))])]),s("div",{staticClass:"to-pay"},[s("div",[t._v("\n          结算("+t._s(t.selected.length)+")\n        ")])])])])],1)},a=[],c=(s("7f7f"),s("ac6a"),s("14ac")),o={components:{SearchBar:c["a"]},data:function(){return{flag:!1,selectedAll:!1,selected:[],isLogin:!0,recommendTopImg:null,recommendList:null}},computed:{cartList:function(){return this.$store.getters.getCartItems},cartCount:function(){return this.$store.getters.getCartTotal},totalPrice:function(){return this.$store.getters.calcTotalPrice(this.selected)}},watch:{selected:function(){this.$store.commit("setSelectedStatus",this.selected),this.updateSelectedAllStatus()},selectedAll:function(t){var e=this;return t?(this.selected=[],this.cartList.forEach(function(t){e.selected.push(t.id)})):this.flag||(this.selected=[]),!t}},methods:{add:function(t){this.$store.commit("addQuantity",t)},subtract:function(t){this.$store.commit("subtractQuantity",t)},deleteGoods:function(t,e){this.cartList.splice(e,1),this.$store.commit("deleteGoodsFromCart",t),this.getSelected()},getRecommend:function(){var t=this;this.axios.get("/api/recommendBlank.json").then(function(e){t.recommendTopImg=e.data.data.header.body,t.recommendList=e.data.data.recom_list,console.log(e.data)}).catch(function(t){console.log(t)})},getSelected:function(){var t=[];this.cartList.forEach(function(e){e.selected&&t.push(e.id)}),this.selected=t},updateSelectedAllStatus:function(){this.selected.length!=this.cartList.length?(this.flag=!0,this.selectedAll=!1):(this.flag=!1,this.selectedAll=!0)},toDetail:function(t,e){var s={};"recommend"==e?s={id:t.action.path,name:t.name,price:t.price,imgurl:t.image_url}:"cartlist"==e&&(s={id:t.id,name:t.name,price:t.price,imgurl:t.imgurl}),this.$router.push({name:"detail",params:s})}},created:function(){this.getSelected(),this.getRecommend()}},n=o,r=(s("d153"),s("2877")),l=Object(r["a"])(n,i,a,!1,null,"5c73d209",null);e["default"]=l.exports},d153:function(t,e,s){"use strict";var i=s("204a"),a=s.n(i);a.a},eecb:function(t,e,s){}}]);
//# sourceMappingURL=chunk-c7f7bf2a.a0c249d5.js.map